(()=>{"use strict";let e,t,a,d,l,r="hori",c=1;function o(e){if(6===c)return;const t=parseInt(e.getAttribute("data-x")),a=parseInt(e.getAttribute("data-y"));let d=document.querySelector(`.modalCell[data-x="${t+1}"][data-y="${a}"]`),l=document.querySelector(`.modalCell[data-x="${t+2}"][data-y="${a}"]`),o=document.querySelector(`.modalCell[data-x="${t+3}"][data-y="${a}"]`),n=document.querySelector(`.modalCell[data-x="${t+4}"][data-y="${a}"]`);"vert"===r&&(d=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+1}"]`),l=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+2}"]`),o=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+3}"]`),n=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+4}"]`));let u=[e,d,l,o,n];u=s(u);let i=!0,m=!1;u.forEach((e=>{e?e.classList.contains("occupied")&&(m=!0):i=!1})),i?(m&&e.classList.remove("placeError"),u.forEach((e=>{e.classList.remove("placeHover")})),e.firstChild&&e.classList.remove("alreadyPlacedError")):e.classList.remove("placeError")}function s(e){return 1===c?e:2===c?e.slice(0,4):3===c||4==c?e.slice(0,3):5===c?e.slice(0,2):void 0}document.querySelectorAll(".board").forEach((e=>{for(let t=0;t<10;t++){let a=document.createElement("div");for(let d=0;d<10;d++){let l=document.createElement("div");l.classList.add("cell"),e.classList.contains("opponent")&&l.classList.add("oppCell"),e.classList.contains("player")&&l.classList.add("userCell"),e.classList.contains("modalBoard")&&l.classList.add("modalCell"),l.dataset.x=d,l.dataset.y=t,a.appendChild(l)}a.classList.add("row"),e.appendChild(a)}})),(()=>{document.querySelectorAll(".modalCell").forEach((n=>{n.addEventListener("mouseenter",(()=>function(e){if(6===c)return;if(e.firstChild)return void e.classList.add("alreadyPlacedError");const t=parseInt(e.getAttribute("data-x")),a=parseInt(e.getAttribute("data-y"));let d=document.querySelector(`.modalCell[data-x="${t+1}"][data-y="${a}"]`),l=document.querySelector(`.modalCell[data-x="${t+2}"][data-y="${a}"]`),o=document.querySelector(`.modalCell[data-x="${t+3}"][data-y="${a}"]`),n=document.querySelector(`.modalCell[data-x="${t+4}"][data-y="${a}"]`);"vert"===r&&(d=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+1}"]`),l=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+2}"]`),o=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+3}"]`),n=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+4}"]`));let u=[e,d,l,o,n];u=s(u);let i=!0;u.forEach((e=>{e?e.classList.contains("occupied")&&(i=!1):i=!1})),i?u.forEach((e=>{e.classList.add("placeHover")})):e.classList.add("placeError")}(n))),n.addEventListener("mouseleave",(()=>o(n))),n.addEventListener("click",(()=>function(s){if(1===c){const t=parseInt(s.getAttribute("data-x")),a=parseInt(s.getAttribute("data-y"));let d=document.querySelector(`.modalCell[data-x="${t+1}"][data-y="${a}"]`),l=document.querySelector(`.modalCell[data-x="${t+2}"][data-y="${a}"]`),n=document.querySelector(`.modalCell[data-x="${t+3}"][data-y="${a}"]`),u=document.querySelector(`.modalCell[data-x="${t+4}"][data-y="${a}"]`);if("vert"===r&&(d=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+1}"]`),l=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+2}"]`),n=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+3}"]`),u=document.querySelector(`.modalCell[data-x="${t}"][data-y="${a+4}"]`)),!(d&&l&&n&&u))return;const i=[s,d,l,n,u];let m=!1;if(i.forEach((e=>{e.classList.contains("occupied")&&(m=!0)})),m)return;const y=document.createElement("img");return y.classList.add("carrier"),"vert"===r&&y.classList.add("vertical"),y.src="./resources/carrier.png",s.appendChild(y),i.forEach((e=>{e.classList.add("occupied")})),o(s),c++,document.querySelector(".modalTitle").textContent="PLACE YOUR BATTLESHIP",void(e=[t,a,r,5])}if(2===c){const e=parseInt(s.getAttribute("data-x")),a=parseInt(s.getAttribute("data-y"));let d=document.querySelector(`.modalCell[data-x="${e+1}"][data-y="${a}"]`),l=document.querySelector(`.modalCell[data-x="${e+2}"][data-y="${a}"]`),n=document.querySelector(`.modalCell[data-x="${e+3}"][data-y="${a}"]`);if("vert"===r&&(d=document.querySelector(`.modalCell[data-x="${e}"][data-y="${a+1}"]`),l=document.querySelector(`.modalCell[data-x="${e}"][data-y="${a+2}"]`),n=document.querySelector(`.modalCell[data-x="${e}"][data-y="${a+3}"]`)),!d||!l||!n)return;const u=[s,d,l,n];let i=!1;if(u.forEach((e=>{e.classList.contains("occupied")&&(i=!0)})),i)return;const m=document.createElement("img");return m.classList.add("battleship"),"vert"===r&&m.classList.add("vertical"),m.src="./resources/battleship.png",s.appendChild(m),u.forEach((e=>{e.classList.add("occupied")})),o(s),c++,document.querySelector(".modalTitle").textContent="PLACE YOUR CRUISER",void(t=[e,a,r,4])}if(3===c){const e=parseInt(s.getAttribute("data-x")),t=parseInt(s.getAttribute("data-y"));let d=document.querySelector(`.modalCell[data-x="${e+1}"][data-y="${t}"]`),l=document.querySelector(`.modalCell[data-x="${e+2}"][data-y="${t}"]`);if("vert"===r&&(d=document.querySelector(`.modalCell[data-x="${e}"][data-y="${t+1}"]`),l=document.querySelector(`.modalCell[data-x="${e}"][data-y="${t+2}"]`)),!d||!l)return;const n=[s,d,l];let u=!1;if(n.forEach((e=>{e.classList.contains("occupied")&&(u=!0)})),u)return;const i=document.createElement("img");return i.classList.add("cruiser"),"vert"===r&&i.classList.add("vertical"),i.src="./resources/cruiser.png",s.appendChild(i),n.forEach((e=>{e.classList.add("occupied")})),o(s),c++,document.querySelector(".modalTitle").textContent="PLACE YOUR SUBMARINE",void(a=[e,t,r,3])}if(4===c){const e=parseInt(s.getAttribute("data-x")),t=parseInt(s.getAttribute("data-y"));let a=document.querySelector(`.modalCell[data-x="${e+1}"][data-y="${t}"]`),l=document.querySelector(`.modalCell[data-x="${e+2}"][data-y="${t}"]`);if("vert"===r&&(a=document.querySelector(`.modalCell[data-x="${e}"][data-y="${t+1}"]`),l=document.querySelector(`.modalCell[data-x="${e}"][data-y="${t+2}"]`)),!a||!l)return;const n=[s,a,l];let u=!1;if(n.forEach((e=>{e.classList.contains("occupied")&&(u=!0)})),u)return;const i=document.createElement("img");return i.classList.add("submarine"),"vert"===r&&i.classList.add("vertical"),i.src="./resources/submarine.png",s.appendChild(i),n.forEach((e=>{e.classList.add("occupied")})),o(s),c++,document.querySelector(".modalTitle").textContent="PLACE YOUR DESTROYER",void(d=[e,t,r,3])}if(5===c){const e=parseInt(s.getAttribute("data-x")),t=parseInt(s.getAttribute("data-y"));let a=document.querySelector(`.modalCell[data-x="${e+1}"][data-y="${t}"]`);if("vert"===r&&(a=document.querySelector(`.modalCell[data-x="${e}"][data-y="${t+1}"]`)),!a)return;const d=[s,a];let n=!1;if(d.forEach((e=>{e.classList.contains("occupied")&&(n=!0)})),n)return;const u=document.createElement("img");return u.classList.add("destroyer"),"vert"===r&&u.classList.add("vertical"),u.src="./resources/destroyer.png",s.appendChild(u),d.forEach((e=>{e.classList.add("occupied")})),o(s),c++,void(l=[e,t,r,2])}}(n)))}));const n=document.querySelector(".changeAxis");n.addEventListener("click",(()=>{"X"===n.textContent.charAt(6)?(n.textContent="AXIS: Y",r="vert"):(n.textContent="AXIS: X",r="hori")}))})()})();